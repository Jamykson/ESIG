<!-- CABEÇALHO -->
<div class="app-header">
  <div class="header-left">
    <span>CLINICA VALIDAÇÕES - JFS (MATRIZ)</span>
  </div>
  <div class="header-right">
    <span>{{ currentDate }}</span>
    <app-clock></app-clock>
    <img src="assets/logo.svg" alt="Logo" class="header-logo">
  </div>
</div>

<!-- CONTEÚDO PRINCIPAL -->
<main [class.call-active]="isCallActive">
  <!-- Painel de Vídeo (Estado normal) -->
  <div class="green-frame" *ngIf="!isCallActive">
    <div class="video-container-wrapper">
      <div class="video-container">
        <app-video-player></app-video-player>
      </div>
    </div>
  </div>

  <!-- Painel de Chamadas (Estado normal) -->
  <div class="calls-panel-wrapper" *ngIf="!isCallActive">
    <app-call-history [historyData]="callHistory"></app-call-history>
  </div>

  <!-- Segunda Tela: retângulo preto + container direito -->
  <div class="call-active-layout" *ngIf="isCallActive">
    <!-- Retângulo preto -->
    <app-call-display [callData]="currentCall"></app-call-display>

    <!-- Container branco à direita -->
    <div class="floating-call-container">
      <div class="calls-history-only">
        <app-call-history [historyData]="callHistory" [showCurrent]="false"></app-call-history>
      </div>

      <div class="video-preview">
        <div class="video-container-wrapper">
          <div class="video-container">
            <app-video-player></app-video-player>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>

<!-- BOTÃO DE SIMULAÇÃO -->
<button class="simulation-button" (click)="simulateNewCall()">
  Simular Nova Chamada
</button>
